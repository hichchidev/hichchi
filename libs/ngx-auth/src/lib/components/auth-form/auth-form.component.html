<hc-card>
    <section class="auth-shell">
        <header class="auth-header">
            <div class="auth-badge">{{ isSignUp() ? "Create Account" : "Welcome Back" }}</div>
            <h2 class="auth-title">{{ isSignUp() ? "Create your account" : "Sign in to your account" }}</h2>
            <p class="auth-subtitle">
                {{ isSignUp() ? "Set up your account to get started." : "Use your credentials to continue." }}
            </p>
        </header>

        <form class="auth-form" [formGroup]="authForm" (ngSubmit)="handleSubmit($event)">
            @if (isSignUp()) {
                <div class="auth-grid">
                    <div class="auth-field">
                        <label for="firstName" class="auth-label">First Name</label>
                        <input
                            id="firstName"
                            type="text"
                            class="auth-input"
                            formControlName="firstName"
                            placeholder="Enter your first name"
                        />
                    </div>
                    <div class="auth-field">
                        <label for="lastName" class="auth-label">Last Name</label>
                        <input
                            id="lastName"
                            type="text"
                            class="auth-input"
                            formControlName="lastName"
                            placeholder="Enter your last name"
                        />
                    </div>
                </div>
            }

            <div class="auth-field">
                <label for="authField" class="auth-label">{{ authFieldLabel() }}</label>
                <input
                    id="authField"
                    type="text"
                    class="auth-input"
                    formControlName="authFieldValue"
                    [placeholder]="'Enter your ' + authFieldLabel().toLowerCase()"
                />
            </div>

            <div class="auth-field">
                <label for="password" class="auth-label">Password</label>
                <input
                    id="password"
                    type="password"
                    class="auth-input"
                    formControlName="password"
                    placeholder="Enter your password"
                />
            </div>

            <button type="submit" class="auth-btn auth-btn-primary">
                {{ isSignUp() ? (isLoading() ? "Signing Up..." : "Sign Up") : isLoading() ? "Signing In..." : "Sign In" }}
            </button>

            <button type="button" class="auth-btn auth-btn-link" (click)="isSignUp.set(!isSignUp())">
                {{ isSignUp() ? "Already have an account? Sign In" : "Don't have an account? Sign Up" }}
            </button>

            @if (!isSignUp()) {
                @if (local() && (google() || facebook())) {
                    <hc-separator label="or"></hc-separator>
                }

                @if (google()) {
                    <button type="button" class="auth-btn social-btn google-btn" (click)="handleGoogleSignIn()">
                        <div class="icon"></div>
                        Continue with Google
                    </button>
                }

                @if (facebook()) {
                    <button type="button" class="auth-btn social-btn facebook-btn">
                        <div class="icon"></div>
                        Continue with Facebook
                    </button>
                }

                @if (isError()) {
                    <p class="error-message">
                        {{ error()?.error?.message || "Something went wrong!" }}
                    </p>
                }
            }
        </form>
    </section>
</hc-card>
